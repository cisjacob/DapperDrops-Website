<%- include('partials/header'); %>

<div class="container">
    <div>

    </div>
    <div class="card">
        <div class="card-header">
            <h1 class="fw-bold float-start">My Account</h1>
            <form action="/account/logout" method="POST" class="float-end">
                <button type="submit" class="btn btn-dark">Logout</button>
            </form>
        </div>
        <% const name = user.firstName + " " + user.lastName %>
        <div class="card-body row">
            <div class="col-lg-6 col-md-6 col-sm-12 mt-3">
                <h2 class="mb-4 fw-bold">Account Information</h2>
                <p>Name: <%= name %></p>
                <p>Email: <%= user.email %></p>
                <p>Account Type: <%= user.accountType %></p>
                <a href="/account/wishlist" class="fw-bold text-dark">View Wishlist</a>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 mt-3">
                <h2 class="mb-4 fw-bold">Default Address</h2>
                <% if(user.addresses.length === 0){ %>
                    <p>There are no addresses listed.</p>
                <% } else if(user.defaultAddress._id === undefined) { %>
                    <p><%= user.defaultAddress.firstName %></p>
                    <p>Please set a new default address. Your default address may have been deleted.</p>
                <% } else { %>
                    <p>Full Name: <%= user.defaultAddress.firstName + " " + user.defaultAddress.lastName %></p>
                    <p>Address Line: <%= user.defaultAddress.addressLine %></p>
                    <p>Region: <%= user.defaultAddress.region %></p>
                    <p>City: <%= user.defaultAddress.city %></p>
                    <p>Postal Code: <%= user.defaultAddress.postalCode %></p>
                    <p>Barangay: <%= user.defaultAddress.barangay %></p>
                    <p>Phone Number: <%= user.defaultAddress.phoneNumber %></p>
                    <p>Email: <%= user.defaultAddress.email %></p>
                <% } %>

                <a href="/account/address" class="fw-bold text-dark">View Addresses</a>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 mt-3">
                <h2 class="mb-4 fw-bold">Order History</h2>
            </div>
        </div>
    </div>



</div>


<%- include('partials/footer'); %>